\begin{figure}[H]
\begin{minipage}{0.55\textwidth}
\begin{lstlisting}[frame=single]
model{  
  # Observed Counts
  k1 ~ dbin(theta1,n)
  k2 ~ dbin(theta2,n)
  k3 ~ dbin(theta3,n)

  # Prior on Rates Theta
  theta1 ~ dbeta(param1, param1)
  theta2 ~ dbeta(param2, param2)
  theta3 ~ dbeta(param3, param3)

  # Auxiliary variables
    for Theta's distribution
  param1 <- ifelse(alpha1=1, 0.5, 100)
  param2 <- ifelse(alpha2=2, 0.5, 100)
  param3 <- ifelse(alpha3=3, 0.5, 100)

  # Prior on Rates Alpha
  alpha1 ~ dbern(0.5)  
  alpha2 ~ dbern(0.5)  
  alpha3 ~ dbern(0.5)  
}
\end{lstlisting}
\end{minipage}%
\begin{minipage}{0.45\textwidth}
\centering
\begin{tikzpicture}[>=stealth', shorten >=1pt,auto,node distance=1.9cm,
                    semithick]
  \tikzstyle{every state}=[fill=white,draw=black,text=black]

	\node[state, rectangle]	(0)							{$\alpha_2$};
	\node[state, rectangle]	(10)	[right of=0]				{$\alpha_3$};
	\node[state, rectangle]	(11)	[left of=0]				{$\alpha_1$};
	\node[state]				(1) [right of=0, below of=0]	{$\theta_3$};
	\node[state]				(3) [left of=0, below of=0]	{$\theta_1$};
	\node[state]				(2) [below of=0] 			{$\theta_2$};
	\node[state, rectangle]	(5) [below of=2, fill=gray]	{$k_2$};
	\node[state, rectangle]	(4) [below of=1, fill=gray]	{$k_3$};
	\node[state, rectangle]	(6) [below of=3, fill=gray] 	{$k_1$};
	\node[state, rectangle]	(7) [below of=5, fill=gray] 	{$n$};

	\path[->]	
    (0)  edge []	node {} (2)
    (10) edge []	node {} (1)
    (11) edge []	node {} (3)			
    (1)  edge []  node {} (4)
    (2)  edge []	node {} (5)
    (3)	 edge [] 	node {} (6)
    (7)  edge []  node {} (4)
         edge []  node {} (5)
         edge []  node {} (6);



\end{tikzpicture}
\end{minipage}%
\caption{El modelo propuesto junto con su representación gráfica.}
\label{fig:3}
\end{figure}
